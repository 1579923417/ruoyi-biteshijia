<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.system.mapper.MinerBrandMapper">

    <resultMap type="com.ruoyi.system.domain.MinerBrand" id="MinerBrandResult">
        <id     property="id"            column="id"            />
        <result property="brandName"     column="brand_name"    />
        <result property="price"         column="price"         />
        <result property="hashRate"      column="hash_rate"     />
        <result property="powerPerHour"  column="power_per_hour" />
        <result property="dailyYield"    column="daily_yield"   />
        <result property="createTime"    column="create_time"   />
        <result property="updateTime"    column="update_time"   />
    </resultMap>

    <sql id="selectVo">
        select id, brand_name, price, hash_rate, power_per_hour, daily_yield, create_time, update_time from miner_brand
    </sql>

    <select id="selectById" parameterType="java.lang.Long" resultMap="MinerBrandResult">
        <include refid="selectVo"/>
        where id = #{id}
    </select>

    <select id="selectList" parameterType="com.ruoyi.system.domain.MinerBrand" resultMap="MinerBrandResult">
        <include refid="selectVo"/>
        <where>
            <if test="brandName != null and brandName != ''">
                and brand_name like concat('%', #{brandName}, '%')
            </if>
        </where>
        order by id desc
    </select>

    <insert id="insert" parameterType="com.ruoyi.system.domain.MinerBrand" useGeneratedKeys="true" keyProperty="id">
        insert into miner_brand(brand_name, price, hash_rate, power_per_hour, daily_yield)
        values(#{brandName}, #{price}, #{hashRate}, #{powerPerHour}, #{dailyYield})
    </insert>

    <update id="update" parameterType="com.ruoyi.system.domain.MinerBrand">
        update miner_brand
        <set>
            <if test="brandName != null">brand_name = #{brandName},</if>
            <if test="price != null">price = #{price},</if>
            <if test="hashRate != null">hash_rate = #{hashRate},</if>
            <if test="powerPerHour != null">power_per_hour = #{powerPerHour},</if>
            <if test="dailyYield != null">daily_yield = #{dailyYield},</if>
        </set>
        where id = #{id}
    </update>

    <delete id="deleteByIds" parameterType="java.lang.Long">
        delete from miner_brand where id in
        <foreach collection="array" item="id" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>

</mapper>
